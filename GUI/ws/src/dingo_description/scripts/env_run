#!/bin/bash
# This simple wrapper allowing us to pass a set of
# environment variables to be sourced prior to running
# another command. Used in the launch file for setting
# robot configurations prior to xacro.


export DINGO_OMNI=1
export M_PI=3.14159265359

export DINGO_MOTOR_PARAMS='base'
#export DINGO_MAG_CONFIG=$(catkin_find dingo_base config/mag_config_default.yaml --first-only)

export DINGO_LASER=1
export DINGO_LASER_MODEL='lms1xx'
export DINGO_LASER_HOST='192.168.131.20'
export DINGO_LASER_TOPIC='front/scan'
export DINGO_LASER_MOUNT='front'
export DINGO_LASER_TOWER=1
export DINGO_LASER_PREFIX=${DINGO_LASER_MOUNT}
export DINGO_LASER_PARENT=${DINGO_LASER_MOUNT}_mount
export DINGO_LASER_OFFSET='0 0 0'
export DINGO_LASER_RPY='0 0 0'

export DINGO_LASER_SECONDARY=1
export DINGO_LASER_SECONDARY_MODEL='lms1xx' # or 'ust10'
export DINGO_LASER_SECONDARY_HOST="192.168.131.20"
export DINGO_LASER_SECONDARY_TOPIC="rear/scan"
export DINGO_LASER_SECONDARY_MOUNT="rear"
export DINGO_LASER_SECONDARY_TOWER=1
export DINGO_LASER_SECONDARY_PREFIX=${DINGO_LASER_SECONDARY_MOUNT}
export DINGO_LASER_SECONDARY_PARENT=${DINGO_LASER_SECONDARY_MOUNT}_mount
export DINGO_LASER_SECONDARY_OFFSET="0 0 ${M_PI}"
export DINGO_LASER_SECONDARY_RPY="0 0 ${M_PI}"

export DINGO_IMU_MICROSTRAIN=1
export DINGO_IMU_MICROSTRAIN_NAME='microstrain'
export DINGO_IMU_MICROSTRAIN_PORT='/dev/microstrain'
export DINGO_IMU_MICROSTRAIN_LINK='microstrain_link'
export DINGO_IMU_MICROSTRAIN_PARENT='imu_link'
export DINGO_IMU_MICROSTRAIN_OFFSET='0 0 0'
export DINGO_IMU_MICROSTRAIN_RPY='0 0 0'

ENVVARS_FILE=$1
shift 1

set -a
#source $ENVVARS_FILE
$@
